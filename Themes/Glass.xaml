<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Glass Card Style -->
    <Style x:Key="FK.Style.GlassCard"
            TargetType="Border">
        <Setter Property="Background"
                Value="{DynamicResource FK.Brush.CardGradient}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource FK.Brush.Border}"/>
        <Setter Property="BorderThickness"
                Value="1"/>
        <Setter Property="CornerRadius"
                Value="16"/>
        <Setter Property="Padding"
                Value="20"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="#000000"
                        Direction="270"
                        ShadowDepth="8"
                        BlurRadius="18"
                        Opacity="0.35"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Glass Button Style -->
    <Style x:Key="FK.Style.GlassButton"
            TargetType="Button">
        <Setter Property="Background"
                Value="{DynamicResource FK.Brush.CardGradient}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource FK.Brush.Text}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource FK.Brush.Border}"/>
        <Setter Property="BorderThickness"
                Value="1"/>
        <Setter Property="Padding"
                Value="16,10"/>
        <Setter Property="FontWeight"
                Value="SemiBold"/>
        <Setter Property="FontSize"
                Value="13"/>
        <Setter Property="Cursor"
                Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="12"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                Value="True">
                            <Setter Property="Background"
                                    Value="{DynamicResource FK.Brush.Primary}"/>
                        </Trigger>
                        <Trigger Property="IsPressed"
                                Value="True">
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.96"
                                            ScaleY="0.96"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Danger Glass Button -->
    <Style x:Key="FK.Style.DangerGlassButton"
            TargetType="Button"
            BasedOn="{StaticResource FK.Style.GlassButton}">
        <Setter Property="BorderBrush"
                Value="{DynamicResource FK.Brush.Danger}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource FK.Brush.Danger}"/>
    </Style>

    <!-- Protection Toggle Style -->
    <Style x:Key="FK.Style.ProtectionToggle"
            TargetType="ToggleButton">
        <Setter Property="Width"
                Value="120"/>
        <Setter Property="Height"
                Value="50"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border Name="Track"
                            Background="{DynamicResource FK.Brush.CardGradient}"
                            CornerRadius="25"
                            BorderThickness="2"
                            BorderBrush="{DynamicResource FK.Brush.Danger}">
                        <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                            <TextBlock Text="🛡️"
                                    FontSize="16"
                                    Margin="8,0,4,0"
                                    Opacity="0.9"/>
                            <TextBlock Name="StatusText"
                                    Text="AV"
                                    FontSize="12"
                                    FontWeight="Bold"
                                       Foreground="{DynamicResource FK.Brush.Danger}"
                                    Margin="0,0,8,0"/>
                        </StackPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked"
                                Value="True">
                            <Setter TargetName="Track"
                                    Property="BorderBrush"
                                    Value="{DynamicResource FK.Brush.Success}"/>
                            <Setter TargetName="StatusText"
                                    Property="Text"
                                    Value="PÅ"/>
                            <Setter TargetName="StatusText"
                                    Property="Foreground"
                                    Value="{DynamicResource FK.Brush.Success}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Theme Toggle Style -->
    <Style x:Key="FK.Style.ThemeToggle"
            TargetType="ComboBox">
        <Setter Property="Width"
                Value="120"/>
        <Setter Property="Height"
                Value="40"/>
        <Setter Property="Background"
                Value="{DynamicResource FK.Brush.CardGradient}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource FK.Brush.Border}"/>
        <Setter Property="BorderThickness"
                Value="1"/>
        <Setter Property="Foreground"
                Value="{DynamicResource FK.Brush.Text}"/>
        <Setter Property="Padding"
                Value="12,8"/>
        <Setter Property="FontSize"
                Value="12"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">
                        <Grid>
                            <ContentPresenter Name="ContentSite"
                                    IsHitTestVisible="False"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                              Margin="{TemplateBinding Padding}"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"/>
                            <ToggleButton Name="ToggleButton"
                                    Template="{x:Null}"
                                          Focusable="False"
                                    IsTabStop="False"
                                    ClickMode="Press"
                                          IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                          Background="Transparent"
                                    BorderThickness="0"/>
                            <Popup Name="Popup"
                                    Placement="Bottom"
                                    IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                    Focusable="False"
                                    PopupAnimation="Slide">
                                <Border Background="{DynamicResource FK.Brush.Surface}"
                                        BorderBrush="{DynamicResource FK.Brush.Border}"
                                        BorderThickness="1"
                                        CornerRadius="12"
                                        MinWidth="{TemplateBinding ActualWidth}">
                                    <ScrollViewer Margin="4,6,4,6"
                                            SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True"
                                                KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>