<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

        <!-- === MAIN WINDOW STYLE === -->
        <Style x:Key="FK.Style.MainWindow"
               TargetType="Window">
                <Setter Property="AllowsTransparency"
                        Value="True"/>
                <Setter Property="WindowStyle"
                        Value="None"/>
                <Setter Property="Background"
                        Value="Transparent"/>
                <Setter Property="FontFamily"
                        Value="Inter, Segoe UI, Arial"/>
                <Setter Property="FontSize"
                        Value="14"/>
                <Setter Property="UseLayoutRounding"
                        Value="True"/>
                <Setter Property="SnapsToDevicePixels"
                        Value="True"/>
                <Setter Property="TextOptions.TextFormattingMode"
                        Value="Display"/>
                <Setter Property="TextOptions.TextRenderingMode"
                        Value="ClearType"/>
                <Setter Property="Effect">
                        <Setter.Value>
                                <DropShadowEffect Color="#000000"
                                                  Direction="270"
                                                  ShadowDepth="12"
                                                  BlurRadius="25"
                                                  Opacity="0.15"/>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === PROTECTION CARDS (Premium elevation + gradient) === -->
        <Style x:Key="FK.Style.ProtectionCard"
               TargetType="Border">
                <Setter Property="Background">
                        <Setter.Value>
                                <LinearGradientBrush StartPoint="0,0"
                                                EndPoint="0,1">
                                        <GradientStop Color="{DynamicResource FK.Color.Surface}"
                                                        Offset="0"/>
                                        <GradientStop Color="{DynamicResource FK.Color.SurfaceGradient}"
                                                        Offset="1"/>
                                </LinearGradientBrush>
                        </Setter.Value>
                </Setter>
                <Setter Property="BorderBrush"
                        Value="{DynamicResource FK.Brush.Border}"/>
                <Setter Property="BorderThickness"
                        Value="1"/>
                <Setter Property="CornerRadius"
                        Value="16"/>
                <Setter Property="Padding"
                        Value="20,18"/>
                <Setter Property="Effect">
                        <Setter.Value>
                                <DropShadowEffect Color="#000000"
                                                  Direction="270"
                                                  ShadowDepth="4"
                                                  BlurRadius="12"
                                                  Opacity="0.1"/>
                        </Setter.Value>
                </Setter>
                <Style.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                                <Setter Property="BorderBrush"
                                        Value="{DynamicResource FK.Brush.Primary}"/>
                                <Setter Property="BorderThickness"
                                        Value="1.5"/>
                                <Setter Property="Effect">
                                        <Setter.Value>
                                                <DropShadowEffect Color="{DynamicResource FK.Color.Primary}"
                                                                  Direction="270"
                                                                  ShadowDepth="6"
                                                                  BlurRadius="16"
                                                                  Opacity="0.15"/>
                                        </Setter.Value>
                                </Setter>
                                <Setter Property="RenderTransform">
                                        <Setter.Value>
                                                <TranslateTransform Y="-2"/>
                                        </Setter.Value>
                                </Setter>
                        </Trigger>
                </Style.Triggers>
        </Style>

        <!-- === STATUS CARD (Elevation 2) === -->
        <Style x:Key="FK.Style.StatusCard"
               TargetType="Border">
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.Surface}"/>
                <Setter Property="BorderBrush"
                        Value="{DynamicResource FK.Brush.Border}"/>
                <Setter Property="BorderThickness"
                        Value="1"/>
                <Setter Property="CornerRadius"
                        Value="12"/>
                <Setter Property="Padding"
                        Value="20"/>
                <Setter Property="Effect">
                        <Setter.Value>
                                <DropShadowEffect Color="#000000"
                                                  Direction="270"
                                                  ShadowDepth="4"
                                                  BlurRadius="12"
                                                  Opacity="0.1"/>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === CONTENT CARD (Elevation 3) === -->
        <Style x:Key="FK.Style.ContentCard"
               TargetType="Border">
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.Surface}"/>
                <Setter Property="BorderBrush"
                        Value="{DynamicResource FK.Brush.Border}"/>
                <Setter Property="BorderThickness"
                        Value="1"/>
                <Setter Property="CornerRadius"
                        Value="16"/>
                <Setter Property="Padding"
                        Value="24"/>
                <Setter Property="Effect">
                        <Setter.Value>
                                <DropShadowEffect Color="#000000"
                                                  Direction="270"
                                                  ShadowDepth="6"
                                                  BlurRadius="18"
                                                  Opacity="0.12"/>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === PRIMARY BUTTON (Premium animations) === -->
        <Style x:Key="FK.Style.PrimaryButton"
               TargetType="Button">
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.Primary}"/>
                <Setter Property="Foreground"
                        Value="White"/>
                <Setter Property="BorderThickness"
                        Value="0"/>
                <Setter Property="Padding"
                        Value="20,12"/>
                <Setter Property="FontWeight"
                        Value="SemiBold"/>
                <Setter Property="FontSize"
                        Value="14"/>
                <Setter Property="Cursor"
                        Value="Hand"/>
                <Setter Property="HorizontalContentAlignment"
                        Value="Center"/>
                <Setter Property="RenderTransformOrigin"
                        Value="0.5,0.5"/>
                <Setter Property="Template">
                        <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                        <Border x:Name="ButtonBorder"
                                                Background="{TemplateBinding Background}"
                                                CornerRadius="10"
                                                Padding="{TemplateBinding Padding}"
                                                RenderTransformOrigin="0.5,0.5">
                                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                  VerticalAlignment="Center"/>
                                                <Border.Effect>
                                                        <DropShadowEffect Color="{Binding Background.Color, RelativeSource={RelativeSource AncestorType=Border}}"
                                                                          Direction="270"
                                                                          ShadowDepth="3"
                                                                          BlurRadius="8"
                                                                          Opacity="0.3"/>
                                                </Border.Effect>
                                                <Border.RenderTransform>
                                                        <TransformGroup>
                                                                <ScaleTransform x:Name="ButtonScale"/>
                                                                <TranslateTransform x:Name="ButtonTranslate"/>
                                                        </TransformGroup>
                                                </Border.RenderTransform>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver"
                                                         Value="True">
                                                        <Trigger.EnterActions>
                                                                <BeginStoryboard>
                                                                        <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonTranslate"
                                                                                                 Storyboard.TargetProperty="Y"
                                                                                                 To="-1"
                                                                                                 Duration="0:0:0.25"/>
                                                                        </Storyboard>
                                                                </BeginStoryboard>
                                                        </Trigger.EnterActions>
                                                        <Trigger.ExitActions>
                                                                <BeginStoryboard>
                                                                        <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonTranslate"
                                                                                                 Storyboard.TargetProperty="Y"
                                                                                                 To="0"
                                                                                                 Duration="0:0:0.25"/>
                                                                        </Storyboard>
                                                                </BeginStoryboard>
                                                        </Trigger.ExitActions>
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.PrimaryDark}"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed"
                                                         Value="True">
                                                        <Trigger.EnterActions>
                                                                <BeginStoryboard>
                                                                        <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                                                                 Storyboard.TargetProperty="ScaleX"
                                                                                                 To="0.98"
                                                                                                 Duration="0:0:0.1"/>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                                                                 Storyboard.TargetProperty="ScaleY"
                                                                                                 To="0.98"
                                                                                                 Duration="0:0:0.1"/>
                                                                        </Storyboard>
                                                                </BeginStoryboard>
                                                        </Trigger.EnterActions>
                                                        <Trigger.ExitActions>
                                                                <BeginStoryboard>
                                                                        <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                                                                 Storyboard.TargetProperty="ScaleX"
                                                                                                 To="1"
                                                                                                 Duration="0:0:0.2"/>
                                                                                <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                                                                 Storyboard.TargetProperty="ScaleY"
                                                                                                 To="1"
                                                                                                 Duration="0:0:0.2"/>
                                                                        </Storyboard>
                                                                </BeginStoryboard>
                                                        </Trigger.ExitActions>
                                                </Trigger>
                                                <Trigger Property="IsEnabled"
                                                         Value="False">
                                                        <Setter Property="Opacity"
                                                                Value="0.6"/>
                                                </Trigger>
                                        </ControlTemplate.Triggers>
                                </ControlTemplate>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === SECONDARY BUTTON === -->
        <Style x:Key="FK.Style.SecondaryButton"
               TargetType="Button">
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.Surface}"/>
                <Setter Property="Foreground"
                        Value="{DynamicResource FK.Brush.Text}"/>
                <Setter Property="BorderBrush"
                        Value="{DynamicResource FK.Brush.Border}"/>
                <Setter Property="BorderThickness"
                        Value="1"/>
                <Setter Property="Padding"
                        Value="20,12"/>
                <Setter Property="FontWeight"
                        Value="Medium"/>
                <Setter Property="FontSize"
                        Value="14"/>
                <Setter Property="Cursor"
                        Value="Hand"/>
                <Setter Property="HorizontalContentAlignment"
                        Value="Center"/>
                <Setter Property="Template">
                        <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                        <Border x:Name="ButtonBorder"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="10"
                                                Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                  VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver"
                                                         Value="True">
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.Hover}"/>
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="BorderBrush"
                                                                Value="{DynamicResource FK.Brush.Primary}"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed"
                                                         Value="True">
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.Focus}"/>
                                                </Trigger>
                                                <Trigger Property="IsEnabled"
                                                         Value="False">
                                                        <Setter Property="Opacity"
                                                                Value="0.6"/>
                                                </Trigger>
                                        </ControlTemplate.Triggers>
                                </ControlTemplate>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === DANGER BUTTON === -->
        <Style x:Key="FK.Style.DangerButton"
               TargetType="Button">
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.Danger}"/>
                <Setter Property="Foreground"
                        Value="White"/>
                <Setter Property="BorderThickness"
                        Value="0"/>
                <Setter Property="Padding"
                        Value="12,8"/>
                <Setter Property="FontWeight"
                        Value="SemiBold"/>
                <Setter Property="FontSize"
                        Value="12"/>
                <Setter Property="Cursor"
                        Value="Hand"/>
                <Setter Property="Template">
                        <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                        <Border x:Name="ButtonBorder"
                                                Background="{TemplateBinding Background}"
                                                CornerRadius="8"
                                                Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center"
                                                                  VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver"
                                                         Value="True">
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="#DC2626"/>
                                                        <Setter Property="RenderTransform">
                                                                <Setter.Value>
                                                                        <TranslateTransform Y="-1"/>
                                                                </Setter.Value>
                                                        </Setter>
                                                </Trigger>
                                                <Trigger Property="IsPressed"
                                                         Value="True">
                                                        <Setter Property="RenderTransform">
                                                                <Setter.Value>
                                                                        <ScaleTransform ScaleX="0.98"
                                                                                        ScaleY="0.98"/>
                                                                </Setter.Value>
                                                        </Setter>
                                                </Trigger>
                                                <Trigger Property="IsEnabled"
                                                         Value="False">
                                                        <Setter Property="Opacity"
                                                                Value="0.6"/>
                                                </Trigger>
                                        </ControlTemplate.Triggers>
                                </ControlTemplate>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === PROTECTION TOGGLE (Premium spec: -15% size, increased radius, conditional shadow) === -->
        <Style x:Key="FK.Style.ProtectionToggle"
               TargetType="ToggleButton">
                <Setter Property="Width"
                        Value="65"/>
                <!-- Was 76: 76 * 0.85 = ~65 -->
                <Setter Property="Height"
                        Value="32"/>
                <!-- Was 38: 38 * 0.85 = ~32 -->
                <Setter Property="Background"
                        Value="{DynamicResource FK.Brush.StatusNeutral}"/>
                <Setter Property="BorderThickness"
                        Value="0"/>
                <Setter Property="Cursor"
                        Value="Hand"/>
                <Setter Property="Template">
                        <Setter.Value>
                                <ControlTemplate TargetType="ToggleButton">
                                        <Grid>
                                                <Border x:Name="Track"
                                                        Width="{TemplateBinding Width}"
                                                        Height="{TemplateBinding Height}"
                                                        CornerRadius="22"
                                                        Background="{TemplateBinding Background}">
                                                        <Grid Margin="8,6">
                                                                <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="*"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock Text="AV"
                                                                           Grid.Column="0"
                                                                           VerticalAlignment="Center"
                                                                           HorizontalAlignment="Left"
                                                                           FontWeight="SemiBold"
                                                                           FontSize="7"
                                                                           Foreground="White"
                                                                           Opacity="0.7"/>
                                                                <TextBlock Text="PÅ"
                                                                           Grid.Column="1"
                                                                           VerticalAlignment="Center"
                                                                           HorizontalAlignment="Right"
                                                                           FontWeight="SemiBold"
                                                                           FontSize="7"
                                                                           Foreground="White"
                                                                           Opacity="0.7"/>
                                                        </Grid>
                                                </Border>
                                                <Border x:Name="Thumb"
                                                        Width="22"
                                                        Height="22"
                                                        CornerRadius="18"
                                                        Background="White"
                                                        HorizontalAlignment="Left"
                                                        Margin="3"
                                                        RenderTransformOrigin="0.5,0.5">
                                                        <Border.Effect>
                                                                <DropShadowEffect x:Name="ThumbShadow"
                                                                                  Color="#000000"
                                                                                  Direction="270"
                                                                                  ShadowDepth="0"
                                                                                  BlurRadius="6"
                                                                                  Opacity="0"/>
                                                        </Border.Effect>
                                                        <TextBlock x:Name="ThumbIcon"
                                                                   Text="✕"
                                                                   FontSize="10"
                                                                   FontWeight="Bold"
                                                                   Foreground="{DynamicResource FK.Brush.StatusNeutral}"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center"/>
                                                </Border>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                                <Trigger Property="IsChecked"
                                                         Value="True">
                                                        <Setter TargetName="Track"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.Success}"/>
                                                        <Setter TargetName="ThumbIcon"
                                                                Property="Text"
                                                                Value="✓"/>
                                                        <Setter TargetName="ThumbIcon"
                                                                Property="Foreground"
                                                                Value="{DynamicResource FK.Brush.Success}"/>
                                                        <Setter TargetName="Thumb"
                                                                Property="HorizontalAlignment"
                                                                Value="Right"/>
                                                        <Setter Property="Effect">
                                                                <Setter.Value>
                                                                        <DropShadowEffect Color="#000000"
                                                                                          Direction="270"
                                                                                          ShadowDepth="2"
                                                                                          BlurRadius="6"
                                                                                          Opacity="0.15"/>
                                                                </Setter.Value>
                                                        </Setter>
                                                </Trigger>
                                                <Trigger Property="IsEnabled"
                                                         Value="False">
                                                        <Setter Property="Opacity"
                                                                Value="0.6"/>
                                                </Trigger>
                                        </ControlTemplate.Triggers>
                                </ControlTemplate>
                        </Setter.Value>
                </Setter>
        </Style>

        <!-- === WINDOW BUTTONS === -->
        <Style x:Key="FK.Style.WindowButton"
               TargetType="Button">
                <Setter Property="Background"
                        Value="Transparent"/>
                <Setter Property="Foreground"
                        Value="{DynamicResource FK.Brush.Subtext}"/>
                <Setter Property="BorderThickness"
                        Value="0"/>
                <Setter Property="FontSize"
                        Value="14"/>
                <Setter Property="FontWeight"
                        Value="Normal"/>
                <Setter Property="Cursor"
                        Value="Hand"/>
                <Setter Property="Template">
                        <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                        <Border x:Name="ButtonBorder"
                                                Background="{TemplateBinding Background}"
                                                CornerRadius="6"
                                                Padding="8">
                                                <ContentPresenter HorizontalAlignment="Center"
                                                                  VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver"
                                                         Value="True">
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.Hover}"/>
                                                        <Setter Property="Foreground"
                                                                Value="{DynamicResource FK.Brush.Text}"/>
                                                </Trigger>
                                                <Trigger Property="IsPressed"
                                                         Value="True">
                                                        <Setter TargetName="ButtonBorder"
                                                                Property="Background"
                                                                Value="{DynamicResource FK.Brush.Focus}"/>
                                                </Trigger>
                                        </ControlTemplate.Triggers>
                                </ControlTemplate>
                        </Setter.Value>
                </Setter>
        </Style>

</ResourceDictionary>