<!-- App.xaml - TRANSPARENT TEMA MED TEMA-VÄXLING -->
<Application x:Class="FilKollen.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- MaterialDesign med mörkt tema som standard -->
                <materialDesign:BundledTheme x:Name="AppTheme"
                                           BaseTheme="Dark" 
                                           PrimaryColor="DeepPurple" 
                                           SecondaryColor="Cyan" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
            </ResourceDictionary.MergedDictionaries>
            
            <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
            
            <!-- MÖRKA TEMA FÄRGER (mer transparanta) -->
            <SolidColorBrush x:Key="PrimaryGradientStart" Color="#80667eea"/>
            <SolidColorBrush x:Key="PrimaryGradientEnd" Color="#80764ba2"/>
            <SolidColorBrush x:Key="AccentCyan" Color="#00d4aa"/>
            <SolidColorBrush x:Key="DarkBackground" Color="#0f0f23"/>
            <SolidColorBrush x:Key="DarkSurface" Color="#401a1a2e"/>
            <SolidColorBrush x:Key="DarkCard" Color="#6016213e"/>
            <SolidColorBrush x:Key="DangerRed" Color="#ff4757"/>
            <SolidColorBrush x:Key="SuccessGreen" Color="#00ff88"/>
            <SolidColorBrush x:Key="TextPrimary" Color="#ffffff"/>
            <SolidColorBrush x:Key="TextSecondary" Color="#b8c6db"/>
            <SolidColorBrush x:Key="TextMuted" Color="#6c7b7f"/>
            
            <!-- LJUSA TEMA FÄRGER -->
            <SolidColorBrush x:Key="LightBackground" Color="#f8fafc"/>
            <SolidColorBrush x:Key="LightSurface" Color="#60ffffff"/>
            <SolidColorBrush x:Key="LightCard" Color="#80ffffff"/>
            <SolidColorBrush x:Key="LightTextPrimary" Color="#1e293b"/>
            <SolidColorBrush x:Key="LightTextSecondary" Color="#475569"/>
            <SolidColorBrush x:Key="LightTextMuted" Color="#94a3b8"/>
            
            <!-- TRANSPARENCY GRADIENTS (mer genomskinliga) -->
            <LinearGradientBrush x:Key="TransparentCardGradient" StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#201a1a2e" Offset="0"/>
                <GradientStop Color="#3016213e" Offset="1"/>
            </LinearGradientBrush>
            
            <LinearGradientBrush x:Key="LightTransparentCardGradient" StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#40ffffff" Offset="0"/>
                <GradientStop Color="#60f8fafc" Offset="1"/>
            </LinearGradientBrush>
            
            <LinearGradientBrush x:Key="DangerGradient" StartPoint="0,0" EndPoint="1,0">
                <GradientStop Color="#ff4757" Offset="0"/>
                <GradientStop Color="#ff3838" Offset="1"/>
            </LinearGradientBrush>
            
            <LinearGradientBrush x:Key="SuccessGradient" StartPoint="0,0" EndPoint="1,0">
                <GradientStop Color="#00ff88" Offset="0"/>
                <GradientStop Color="#00d4aa" Offset="1"/>
            </LinearGradientBrush>
            
            <!-- SUPER TRANSPARENT GLASS CARDS -->
            <Style x:Key="TransparentGlassCard" TargetType="Border">
                <Setter Property="Background" Value="{DynamicResource CardBackground}"/>
                <Setter Property="BorderBrush">
                    <Setter.Value>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#2000d4aa" Offset="0"/>
                            <GradientStop Color="#408b5cf6" Offset="1"/>
                        </LinearGradientBrush>
                    </Setter.Value>
                </Setter>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="CornerRadius" Value="20"/>
                <Setter Property="Padding" Value="24"/>
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="#000000" Direction="270" ShadowDepth="8" BlurRadius="25" Opacity="0.15"/>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <!-- SVENSKA NEON BUTTON STYLES -->
            <Style x:Key="SvenskNeonButton" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource TransparentCardGradient}"/>
                <Setter Property="Foreground" Value="{DynamicResource ButtonTextColor}"/>
                <Setter Property="BorderBrush" Value="{StaticResource AccentCyan}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding" Value="20,12"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="25"
                                    Padding="{TemplateBinding Padding}">
                                <Border.Effect>
                                    <DropShadowEffect Color="#00d4aa" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                <GradientStop Color="#6000d4aa" Offset="0"/>
                                                <GradientStop Color="#608b5cf6" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="RenderTransform">
                                        <Setter.Value>
                                            <ScaleTransform ScaleX="0.95" ScaleY="0.95"/>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <!-- DANGER BUTTON -->
            <Style x:Key="FarligKnapp" TargetType="Button" BasedOn="{StaticResource SvenskNeonButton}">
                <Setter Property="Background" Value="{StaticResource DangerGradient}"/>
                <Setter Property="BorderBrush" Value="{StaticResource DangerRed}"/>
                <Setter Property="Foreground" Value="White"/>
            </Style>
            
            <!-- TEMA-VÄXLING TOGGLE -->
            <Style x:Key="TemaVäxlare" TargetType="ToggleButton">
                <Setter Property="Width" Value="100"/>
                <Setter Property="Height" Value="40"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ToggleButton">
                            <Grid>
                                <!-- Track -->
                                <Border Name="Track" 
                                        Background="#333" 
                                        CornerRadius="20" 
                                        BorderThickness="2"
                                        BorderBrush="#555"/>
                                <!-- Icons -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock Text="🌙" FontSize="16" Margin="8,0,4,0" Opacity="0.7"/>
                                    <TextBlock Text="☀️" FontSize="16" Margin="4,0,8,0" Opacity="0.7"/>
                                </StackPanel>
                                <!-- Thumb -->
                                <Border Name="Thumb" 
                                        Width="30" Height="30" 
                                        CornerRadius="15"
                                        Background="{StaticResource AccentCyan}"
                                        HorizontalAlignment="Left"
                                        Margin="5,5,0,5">
                                    <Border.Effect>
                                        <DropShadowEffect Color="#00d4aa" BlurRadius="15" ShadowDepth="0" Opacity="0.8"/>
                                    </Border.Effect>
                                    <Border.RenderTransform>
                                        <TranslateTransform x:Name="ThumbTransform"/>
                                    </Border.RenderTransform>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="Track" Property="Background" Value="#fbbf24"/>
                                    <Setter TargetName="Track" Property="BorderBrush" Value="#f59e0b"/>
                                    <Setter TargetName="Thumb" Property="Background" Value="#fbbf24"/>
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="ThumbTransform"
                                                               Storyboard.TargetProperty="X"
                                                               To="60" Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="ThumbTransform"
                                                               Storyboard.TargetProperty="X"
                                                               To="0" Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <!-- DYNAMISKA RESURSER SOM ÄNDRAS MED TEMA -->
            <SolidColorBrush x:Key="CurrentBackground" Color="{DynamicResource BackgroundColor}"/>
            <SolidColorBrush x:Key="CardBackground" Color="{DynamicResource CardColor}"/>
            <SolidColorBrush x:Key="CurrentTextPrimary" Color="{DynamicResource PrimaryTextColor}"/>
            <SolidColorBrush x:Key="CurrentTextSecondary" Color="{DynamicResource SecondaryTextColor}"/>
            <SolidColorBrush x:Key="ButtonTextColor" Color="{DynamicResource PrimaryTextColor}"/>
            
            <!-- DEFAULT COLORS (MÖRKT TEMA) -->
            <Color x:Key="BackgroundColor">#0f0f23</Color>
            <Color x:Key="CardColor">#401a1a2e</Color>
            <Color x:Key="PrimaryTextColor">#ffffff</Color>
            <Color x:Key="SecondaryTextColor">#b8c6db</Color>
            
        </ResourceDictionary>
    </Application.Resources>
</Application>